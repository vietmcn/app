(function(t){"use strict";function s(s,a){var i,l,n=s.data("width"),r=s.data("height"),o=s.attr("title")||s.data("title"),c=s.data("display-title"),d=s.data("ratio")?s.data("ratio"):a.default_ratio,u=s.data("display-duration"),y=s.data("youtube-id"),h=[],v=s.text()?s.text():a.loading_text,f=["https://www.googleapis.com/youtube/v3/videos?id=",y,"&key=",a.yt_api_key,"&part=snippet"].join(""),g=s.data("parameters")||"";d=d.split(":"),g+="&"+a.youtube_parameters,"boolean"!=typeof c&&(c=a.display_title),"boolean"!=typeof u&&(u=a.display_duration),"number"==typeof n&&"number"==typeof r?(s.width(n),i=r+"px"):"number"==typeof n?(s.width(n),i=n*d[1]/d[0]+"px"):(n=s.width(),0==n&&(n=s.parent().width()),i=d[1]/d[0]*100+"%"),h.push('<div class="ytp-thumbnail">'),h.push('<button class="ytp-large-play-button ytp-button" tabindex="23" aria-live="assertive"'),n<=320?h.push(' style="transform: scale(0.61);"'):n<=640&&h.push(' style="transform: scale(0.85);"'),c&&o&&h.push(' aria-label="',o,'"'),h.push(">"),h.push('<svg height="100%" version="1.1" viewBox="0 0 68 48" width="100%">'),h.push('<path class="ytp-large-play-button-bg" d="m .66,37.62 c 0,0 .66,4.70 2.70,6.77 2.58,2.71 5.98,2.63 7.49,2.91 5.43,.52 23.10,.68 23.12,.68 .00,-1.3e-5 14.29,-0.02 23.81,-0.71 1.32,-0.15 4.22,-0.17 6.81,-2.89 2.03,-2.07 2.70,-6.77 2.70,-6.77 0,0 .67,-5.52 .67,-11.04 l 0,-5.17 c 0,-5.52 -0.67,-11.04 -0.67,-11.04 0,0 -0.66,-4.70 -2.70,-6.77 C 62.03,.86 59.13,.84 57.80,.69 48.28,0 34.00,0 34.00,0 33.97,0 19.69,0 10.18,.69 8.85,.84 5.95,.86 3.36,3.58 1.32,5.65 .66,10.35 .66,10.35 c 0,0 -0.55,4.50 -0.66,9.45 l 0,8.36 c .10,4.94 .66,9.45 .66,9.45 z" fill="#1f1f1e" fill-opacity="0.9"></path>'),h.push('<path d="m 26.96,13.67 18.37,9.62 -18.37,9.55 -0.00,-19.17 z" fill="#fff"></path>'),h.push('<path d="M 45.02,23.46 45.32,23.28 26.96,13.67 43.32,24.34 45.02,23.46 z" fill="#ccc"></path>'),h.push("</svg>"),h.push("</button>"),h.push('<div class="ytp-spinner" data-layer="4">'),h.push('<span class="ytp-spinner-svg">'),h.push('<svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%">'),h.push('<svg x="7" y="1"><circle class="ytp-spinner-dot ytp-spinner-dot-0" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="11" y="3"><circle class="ytp-spinner-dot ytp-spinner-dot-1" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="13" y="7"><circle class="ytp-spinner-dot ytp-spinner-dot-2" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="11" y="11"><circle class="ytp-spinner-dot ytp-spinner-dot-3" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="7" y="13"><circle class="ytp-spinner-dot ytp-spinner-dot-4" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="3" y="11"><circle class="ytp-spinner-dot ytp-spinner-dot-5" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="1" y="7"><circle class="ytp-spinner-dot ytp-spinner-dot-6" cx="4" cy="4" r="2"></circle></svg>'),h.push('<svg x="3" y="3"><circle class="ytp-spinner-dot ytp-spinner-dot-7" cx="4" cy="4" r="2"></circle></svg>'),h.push("</svg>"),h.push("</span>"),h.push('<div class="ytp-spinner-message" style="display: none;">If playback doesn\'t begin shortly, try restarting your device.</div>'),h.push("</div>"),u&&h.push('<span class="video-time" style="display:none;"></span>'),h.push("</div>"),c&&(h.push('<div class="ytp-gradient-top"></div>'),h.push('<div class="ytp-chrome-top">'),h.push('<div class="ytp-title">'),h.push('<div class="ytp-title-text">'),h.push('<a id="lazyYT-title-',y,'" class="ytp-title-link" tabindex="13" target="_blank" data-sessionlink="feature=player-title" href="https://www.youtube.com/watch?v=',y,'">'),h.push(o?o:v),h.push("</a>"),h.push("</div>"),h.push("</div>"),h.push("</div>")),s.css({"padding-bottom":i}).html(h.join("")),l=s.find(".ytp-thumbnail").on("click",function(t){t.preventDefault(),s.hasClass(a.video_loaded_class)||(s.html('<iframe src="https://www.youtube.com/embed/'+y+"?"+g+'&autoplay=1" frameborder="0" allowfullscreen></iframe>').addClass(a.video_loaded_class),"function"==typeof a.callback&&a.callback.call(s))}),e(y,n,l,f),(!o&&c||u)&&(u&&(f+=",contentDetails"),t.getJSON(f,function(t){var e=t.items[0];s.find("#lazyYT-title-"+y).text(e.snippet.title),u&&s.find(".video-time").text(p(e.contentDetails.duration,a)).show()}))}function e(s,e,p,l){var n,r,o=new Image;0==e&&(e=p.width()),n=e>640?"maxresdefault.jpg":e>480?"sddefault.jpg":e>320?"hqdefault.jpg":e>120?"mqdefault.jpg":0==e?"hqdefault.jpg":"default.jpg",r=["https://img.youtube.com/vi/",s,"/",n].join(""),o.onload=function(s){var n=i(s,"naturalWidth");n<e?t.getJSON(l,function(t){var s=t.items[0],i=s.snippet.thumbnails;0==e&&(e=p.width()),r=e>640&&"object"==typeof i.maxres?i.maxres.url:e>480&&"object"==typeof i.standard?i.standard.url:e>320&&"object"==typeof i.high?i.high.url:e>120&&"object"==typeof i.medium?i.medium.url:i.default.url,a(p,r)}):a(p,this.src)},o.src=r}function a(t,s){t.css({"background-image":["url(",s,")"].join("")}).addClass("lazyYT-image-loaded")}function i(t,s){var e;return e="object"==typeof t.path?t.path[0]:"object"==typeof t.target?t.target:t.originalTarget,e.naturalWidth}function p(t,s){for(var e=[],a=0,i=t.match(/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)W)?(?:(\d*)D)?T(?:(\d*)H)?(?:(\d*)M)?(?:(\d*)S)?/i),p=[{pos:1,multiplier:31536e3},{pos:2,multiplier:2592e3},{pos:3,multiplier:604800},{pos:4,multiplier:86400},{pos:5,multiplier:3600},{pos:6,multiplier:60},{pos:7,multiplier:1}],l=0;l<p.length;l++)"undefined"!=typeof i[p[l].pos]&&(a+=parseInt(i[p[l].pos])*p[l].multiplier);return a>3599&&(e.push(parseInt(a/3600)),a%=3600),e.push(("0"+parseInt(a/60)).slice(-2)),e.push(("0"+a%60).slice(-2)),e.join(":")}t.fn.lazyYT=function(e,a){var i={yt_api_key:e,youtube_parameters:"rel=0",loading_text:"Loading...",display_title:!0,default_ratio:"16:9",display_duration:!1,callback:null,video_loaded_class:"lazyYT-video-loaded",container_class:"lazyYT-container"},p=t.extend(i,a);return this.each(function(){var e=t(this).addClass(p.container_class);s(e,p)})}})(jQuery);